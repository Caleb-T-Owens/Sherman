#!/bin/zsh
set -eu -o pipefail

pushd $HOME/sherman

if [ -e $HOME/sherman/env.local.sh ]
then
    source $HOME/sherman/env.local.sh
fi

for file in $HOME/sherman/configsets/*
do
    if [ -e $file/install.sh ]
    then
        echo "Installing $file"
        source $file/install.sh
    fi
done

# echo "Entering directory './sherman-bot'"
# pushd ./sherman-bot

# echo "Running './bin/build'"
# ./bin/build

# echo "Exiting directory './sherman-bot'"
# popd

# echo "Running './sherman-bot/build/sherman-bot'"
# ./sherman-bot/build/sherman-bot

popd

pushd $HOME

source "$HOME/.zshrc"

popd

pushd $HOME/sherman/projects/project-cloner

bun run index.ts

popd

echo "Complete!"
